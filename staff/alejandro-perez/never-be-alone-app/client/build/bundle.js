!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=27)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("reactstrap")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("react-helmet")},function(e,t){e.exports=require("redux-form")},function(e,t){e.exports=require("react-virtualized/dist/commonjs/List")},function(e,t){e.exports=require("react-virtualized/dist/commonjs/AutoSizer")},function(e,t){e.exports=require("google-maps-react")},function(e,t){e.exports=require("react-datepicker")},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("sweetalert")},function(e,t){e.exports=require("@babel/polyfill")},function(e,t){e.exports=require("moment-duration-format")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("serialize-javascript")},function(e,t){e.exports=require("react-autocomplete")},function(e,t){e.exports=require("react-file-base64")},function(e,t){e.exports=require("react-cropper")},function(e,t){e.exports=require("redux-promise-middleware")},function(e,t){e.exports=require("react-toastify")},function(e,t){e.exports=require("react-geosuggest")},function(e,t){e.exports=require("react-router-config")},function(e,t,r){r(16),e.exports=r(29)},function(e,t){e.exports=require("dotenv")},function(e,t,r){"use strict";r.r(t);r(16);var n=r(14),a=r.n(n),o=r(0),c=r.n(o),i=r(18),s=r(1),l=r(4),u=r(19),p=r.n(u),m=r(2),d=r.n(m);function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){h(e,t,r[t])})}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g="https://neverbealone-api.herokuapp.com/api",y={token:function(e){if(!e)return this._token;this._token=e},userId:function(e){if(!e)return null===e&&(this._userId=null),this._userId;this._userId=e},isLogged:function(){var e=this.userId(),t=this.token();return"string"==typeof e&&"string"==typeof t},logout:function(){var e=this;return Promise.resolve().then(function(){e.userId(null),e.token(null)})},login:function(e,t){var r=this;return d.a.post("".concat(g,"/authenticate"),{email:e,password:t}).then(function(e){var t=e.data,n=t.id,a=t.token,o=e.status,c=e.statusText;if("OK"!==c||200!==o)throw Error("unexpected response status ".concat(c," (").concat(o,")"));return r.token(a),r.userId(n),{id:n,token:a}})},getUser:function(){return d.a.get("".concat(g,"/users/").concat(this.userId())).then(function(e){return e.data})},getUserById:function(e){return d.a.get("".concat(g,"/users/").concat(e)).then(function(e){return e.data})},getGroupById:function(e){return d.a.get("".concat(g,"/groups/").concat(e)).then(function(e){return e.data})},getEventByDate:function(e,t,r){return e?d.a.get("".concat(g,"/groups/").concat(e,"/events/").concat(t)).then(function(e){return e.data}):d.a.get("".concat(g,"/users/").concat(r,"/events/").concat(t)).then(function(e){return e.data})},joinGroup:function(e){return d.a.put("".concat(g,"/groups/").concat(e,"/users/").concat(this.userId()),void 0,{headers:{authorization:"Bearer ".concat(this.token())}}).then(function(e){return e.data})},leaveGroup:function(e){return d.a.patch("".concat(g,"/users/").concat(this.userId(),"/groups/").concat(e),void 0,{headers:{authorization:"Bearer ".concat(this.token())}}).then(function(e){return e.data})},createEvent:function(e,t,r,n,a,o,c){var i=this;return Promise.resolve().then(function(){if(!c.name)throw new Error("select a valid place!");if(!t)throw new Error("name is required");if(!r)throw new Error("description is required");if(!n)throw new Error("date is required");if(!a)throw new Error("category is required");if(!o)throw new Error("duration is required");return d.a.post("".concat(g,"/groups/").concat(e,"/users/").concat(i.userId(),"/events"),{name:t,description:r,date:n,category:a,duration:o,address:c},{headers:{authorization:"Bearer ".concat(i.token())}}).then(function(e){return e.data})})},acceptUser:function(e,t){return d.a.put("".concat(g,"/groups/").concat(t,"/owners/").concat(this.userId(),"/request/").concat(e),{},{headers:{authorization:"Bearer ".concat(this.token())}}).then(function(e){return e.data})},rejectUser:function(e,t){return d.a.patch("".concat(g,"/groups/").concat(t,"/owners/").concat(this.userId(),"/request/").concat(e),{},{headers:{authorization:"Bearer ".concat(this.token())}}).then(function(e){return e.data})},kickUser:function(e,t){return d.a.delete("".concat(g,"/groups/").concat(t,"/owners/").concat(this.userId(),"/users/").concat(e),{headers:{authorization:"Bearer ".concat(this.token())}}).then(function(e){return e.data})},updateRole:function(e,t){return d.a.patch("".concat(g,"/groups/").concat(t,"/owners/").concat(this.userId(),"/users/").concat(e),void 0,{headers:{authorization:"Bearer ".concat(this.token())}}).then(function(e){return e.data})},deleteGroup:function(e){return d.a.delete("".concat(g,"/users/").concat(this.userId(),"/groups/").concat(e),{headers:{authorization:"Bearer ".concat(this.token())}}).then(function(e){return e})},registerUser:function(e){return e.photoProfile?d.a.patch("".concat(g,"/uploadPhoto"),{base64Image:e.photoProfile}).then(function(t){var r=t.data;return d.a.post("".concat(g,"/users/"),f({},e,{photoProfile:r.photo})).then(function(e){return e})}):d.a.post("".concat(g,"/users/"),f({},e)).then(function(e){return e})},attendEvent:function(e){return d.a.put("".concat(g,"/users/").concat(this.userId(),"/events/").concat(e),void 0,{headers:{authorization:"Bearer ".concat(this.token())}}).then(function(e){return e})},fetchEventById:function(e){return d.a.get("".concat(g,"/events/").concat(e)).then(function(e){return e})},createGroup:function(e,t){return d.a.post("".concat(g,"/groups/").concat(this.userId()),{name:e,description:t},{headers:{authorization:"Bearer ".concat(this.token())}}).then(function(e){return e})}},b={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR"},v={success:function(e){return{type:b.SUCCESS,message:e}},error:function(e){return{type:b.ERROR,message:e}},clear:function(){return{type:b.CLEAR}}};var E=function(){return function(e){return y.getUser().then(function(t){t&&e({type:"fetch_me_success",payload:t})}).catch(function(t){e({type:"update_user_error",payload:t})})}},w=function(e){return function(t){return y.getUserById(e).then(function(e){e&&t({type:"fetch_user_success",payload:e})}).catch(function(e){t({type:"update_user_error",payload:e})})}},O=function(e){return function(t){return y.getGroupById(e).then(function(e){e&&t({type:"fetch_group_success",payload:e})}).catch(function(e){t({type:"fetch_group_error",payload:e})})}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return function(n){return y.getEventByDate(e,t,r).then(function(e){e&&n({type:"fetch_events_success",payload:e.data})}).catch(function(e){n({type:"fetch_group_error",payload:e})})}},j=function(e){return function(t){return y.fetchEventById(e).then(function(e){t({type:"fetch_event_success",payload:e.data})}).catch(function(e){t({type:"fetch_group_error",payload:e})})}},N=r(20),k=r.n(N);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return P(n,(r=n=P(this,(e=C(t)).call.apply(e,[this].concat(o))),n.state={value:"",groups:[],selected:null},n.requestTimer=null,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,o["Component"]),function(e,t,r){t&&x(e.prototype,t),r&&x(e,r)}(t,[{key:"render",value:function(){var e=this;return c.a.createElement(k.a,{wrapperStyle:{position:"relative",display:"inline-block"},value:this.state.value,items:this.state.groups,menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 1)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"10%"},getItemValue:function(e){return e.name},onSelect:function(t,r){e.setState({value:t,groups:[r]},function(){e.props.history.push("/group/".concat(r.id))})},onChange:function(t,r){e.setState({value:r}),clearTimeout(e.requestTimer),e.requestTimer=setTimeout(function(){d.a.get("https://neverbealone-api.herokuapp.com/api/groups?name=".concat(r)).then(function(t){e.setState({groups:t.data.data})})},500)},renderMenu:function(e){return c.a.createElement("div",{className:"menu"},e)},renderItem:function(e,t){return c.a.createElement("div",{className:"item ".concat(t?"item-highlighted":""),key:e.abbr,style:{cursor:"pointer",backgroundColor:"rgba(0, 0, 0, 0.4)"}},c.a.createElement("a",null,e.name))}})}}]),t}(),I=Object(s.withRouter)(R),U=r(7);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return D(n,(r=n=D(this,(e=L(t)).call.apply(e,[this].concat(o))),n.handleLogout=function(e){return e.preventDefault(),n.props.logout(n.props.history)},r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,o["Component"]),function(e,t,r){t&&T(e.prototype,t),r&&T(e,r)}(t,[{key:"componentDidMount",value:function(){y.isLogged()&&this.props.fetchUser()}},{key:"render",value:function(){var e=this,t=this.props.auth,r=t.auth,n=t.user.data;return c.a.createElement("nav",{className:"navbar navbar-transparent navbar-color-on-scroll fixed-top navbar-expand-lg","color-on-scroll":"100",id:"sectionsNav"},c.a.createElement(U.Helmet,null,c.a.createElement("link",{href:"/assets/css/Autocomplete.css",type:"text/css",rel:"stylesheet"})),c.a.createElement("div",{className:"container"},c.a.createElement(s.Link,{className:"navbar-brand",to:"/"}," ","NeverBeAlone "),c.a.createElement("div",{className:"navbar-translate",style:{width:"75%",textAlign:"center"}},c.a.createElement(I,{className:"p-5"}),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"sr-only"},"Toggle navigation"),c.a.createElement("span",{className:"navbar-toggler-icon"}),c.a.createElement("span",{className:"navbar-toggler-icon"}),c.a.createElement("span",{className:"navbar-toggler-icon"}))),c.a.createElement("div",{className:"collapse navbar-collapse show"},c.a.createElement("ul",{className:"navbar-nav ml-auto"},r&&n?c.a.createElement("li",{className:"dropdown nav-item"},c.a.createElement("a",{href:"#",className:"nav-link","data-toggle":"dropdown"},c.a.createElement("div",{className:"dropdown-toggle"},c.a.createElement("img",{className:"rounded-circle  mr-2",style:{width:"2rem"},src:n.photoProfile}),c.a.createElement("span",{className:"mr-1"},n.name))),c.a.createElement("div",{className:"dropdown-menu dropdown-with-icons"},c.a.createElement(s.Link,{to:"/profile/".concat(n.id),className:"dropdown-item"},c.a.createElement("i",{className:"material-icons"},"person"),"Profile"),c.a.createElement("a",{className:"dropdown-item text-danger",style:{cursor:"pointer"},onClick:function(t){return e.handleLogout(t)}},c.a.createElement("i",{className:"material-icons "},"exit_to_app")," Logout"))):c.a.createElement("li",{className:"nav-item"},c.a.createElement(s.Link,{className:"btn btn-outline-info nav-link",to:"/login"},c.a.createElement("i",{className:"material-icons"},"input"),"Login"))))))}}]),t}();var G=Object(s.withRouter)(Object(l.connect)(function(e){return{auth:e.auth}},{fetchUser:E,logout:function(e){return function(e){return y.logout().then(function(){e({type:"logout_user"})})}}})(B));function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F(this,W(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,o["Component"]),function(e,t,r){t&&z(e.prototype,t),r&&z(e,r)}(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("div",{class:"page-header header-filter","data-parallax":"true",style:{"background-image":"url('../assets/img/landing_restaurant.jpg')"}},c.a.createElement("div",{class:"container"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-md-6 ml-auto mr-auto"},c.a.createElement("h1",{class:"title"},"Your Story Starts With Us."),c.a.createElement("h4",null,"Create and join groups to start making plans together"),c.a.createElement("br",null),c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("button",{onClick:function(){return e.props.history.push("/register")},target:"_blank",class:"btn btn-danger btn-raised btn-lg"},c.a.createElement("i",{class:"fas fa-user-plus"})," Register Now!"),c.a.createElement("h3",null,"Or"),c.a.createElement("button",{onClick:function(){return e.props.history.push("/login")},target:"_blank",class:"btn btn-primary btn-raised btn-lg"},c.a.createElement("i",{class:"fas fa-user-plus"})," Login Now!")))))),c.a.createElement("div",{class:"main main-raised"},c.a.createElement("div",{class:"container"},c.a.createElement("div",{class:"section text-center"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-md-8 ml-auto mr-auto"},c.a.createElement("h2",{class:"title"},"Lorem ipsum dolor sit amet consectetur."),c.a.createElement("h5",{class:"description"},"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vitae, libero molestias nostrum iste facilis vero cum! Consectetur sed alias earum nobis, animi hic error explicabo eligendi adipisci, asperiores enim laborum.Inventore qui aperiam harum fugiat maiores officiis facilis eius quasi corporis a molestiae iusto aspernatur, accusamus atque repudiandae, necessitatibus nam, blanditiis doloribus natus assumenda tempore. Itaque deserunt autem perferendis impedit!"))),c.a.createElement("div",{class:"features"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-md-4"},c.a.createElement("div",{class:"info"},c.a.createElement("div",{class:"icon icon-info"},c.a.createElement("i",{class:"material-icons"},"chat")),c.a.createElement("h4",{class:"info-title"},"Lorem, ipsum."),c.a.createElement("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Praesentium architecto dolores eveniet ad similique. Officia esse natus numquam ullam cum tempore, quas odit ipsa accusantium libero. Et ea porro quam. Molestias unde distinctio, exercitationem quibusdam id dignissimos ab similique, nihil fugit consectetur maiores libero earum repellendus assumenda a amet. Fugit nulla illum tempore iste debitis in suscipit explicabo maxime aut. At aliquid, quam perspiciatis ipsum reprehenderit adipisci vero eligendi dolore ab quasi numquam vitae quisquam iure cum eaque accusantium pariatur alias praesentium illo hic porro aspernatur fuga. Temporibus, quaerat eligendi."))),c.a.createElement("div",{class:"col-md-4"},c.a.createElement("div",{class:"info"},c.a.createElement("div",{class:"icon icon-success"},c.a.createElement("i",{class:"material-icons"},"verified_user")),c.a.createElement("h4",{class:"info-title"},"Lorem, ipsum."),c.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ut suscipit earum culpa tempore deserunt, impedit in harum rem pariatur commodi necessitatibus officiis perferendis libero quos alias magni nisi maxime velit. Magni officiis minima, labore totam dolorem cum vitae at laborum eum delectus quas impedit deleniti reiciendis nihil ratione dolores illum, et nulla adipisci necessitatibus, facere inventore accusantium assumenda dolor! Blanditiis. Minus nobis repudiandae voluptates illum. Accusamus quos pariatur beatae magni aspernatur porro, ullam obcaecati sunt veniam cum nam rerum necessitatibus impedit repellendus ad voluptates molestias recusandae quidem! Reiciendis, natus esse?"))),c.a.createElement("div",{class:"col-md-4"},c.a.createElement("div",{class:"info"},c.a.createElement("div",{class:"icon icon-primary"},c.a.createElement("i",{class:"material-icons"},"mood")),c.a.createElement("h4",{class:"info-title"},"Lorem, ipsum."),c.a.createElement("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Laboriosam, officiis tenetur ab, nihil temporibus optio corrupti maxime fugiat iure recusandae animi numquam aliquid cumque illo, natus officia placeat iste. Numquam.Quam possimus beatae incidunt voluptas a voluptatum provident molestias quos. Placeat quaerat cupiditate neque in nemo quidem ab commodi quo animi dolorem, tenetur saepe porro aspernatur explicabo, recusandae nulla perferendis?")))))),c.a.createElement("div",{class:"section text-center"},c.a.createElement("h2",{class:"title"},"Create Events!"),c.a.createElement("div",{class:"team"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-md-4"},c.a.createElement("div",{class:"team-player"},c.a.createElement("div",{class:"card card-plain"},c.a.createElement("div",{class:"col-md-6 ml-auto mr-auto"},c.a.createElement("img",{src:"../assets/img/party.jpg",alt:"Thumbnail Image",class:"img-raised rounded-circle img-fluid"})),c.a.createElement("h4",{class:"card-title"},"Party",c.a.createElement("br",null),c.a.createElement("small",{class:"card-description text-muted"},"Event")),c.a.createElement("div",{class:"card-body"},c.a.createElement("p",{class:"card-description"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident asperiores ab natus, doloribus aut quam distinctio esse quidem nihil, rem minima voluptas molestiae nesciunt porro, cumque sapiente. Illum, tempora ab?Accusantium, consectetur labore commodi exercitationem reprehenderit aperiam quae nostrum assumenda praesentium tempore magnam? Perferendis reiciendis consequatur, hic voluptates iure quam facilis cupiditate? Earum voluptatum, ipsum sint numquam deleniti omnis? Nulla?"))))),c.a.createElement("div",{class:"col-md-4"},c.a.createElement("div",{class:"team-player"},c.a.createElement("div",{class:"card card-plain"},c.a.createElement("div",{class:"col-md-6 ml-auto mr-auto"},c.a.createElement("img",{src:"../assets/img/tech.jpeg",alt:"Thumbnail Image",class:"img-raised rounded-circle img-fluid"})),c.a.createElement("h4",{class:"card-title"},"Technology",c.a.createElement("br",null),c.a.createElement("small",{class:"card-description text-muted"},"Event")),c.a.createElement("div",{class:"card-body"},c.a.createElement("p",{class:"card-description"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime, sit! Minima amet quas dolorem velit, quos labore nesciunt atque architecto excepturi ducimus repellendus corrupti consectetur odio tempore ab, error et.Doloribus facilis eaque deleniti ducimus doloremque fuga voluptate quisquam fugit architecto est odit eveniet a enim, maxime cum numquam quasi, quo rerum nulla. Nobis magni perspiciatis ratione, reprehenderit atque aliquid!"))))),c.a.createElement("div",{class:"col-md-4"},c.a.createElement("div",{class:"team-player"},c.a.createElement("div",{class:"card card-plain"},c.a.createElement("div",{class:"col-md-6 ml-auto mr-auto"},c.a.createElement("img",{src:"../assets/img/dinner.jpg",alt:"Thumbnail Image",class:"img-raised rounded-circle img-fluid"})),c.a.createElement("h4",{class:"card-title"},"Gastronomy",c.a.createElement("br",null),c.a.createElement("small",{class:"card-description text-muted"},"Event")),c.a.createElement("div",{class:"card-body"},c.a.createElement("p",{class:"card-description"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt delectus pariatur est aut quam id blanditiis assumenda quae, eaque, ex harum quidem numquam commodi autem? Nobis culpa sapiente aliquam consequatur.Animi id quam eius at neque laborum, quas reprehenderit accusamus quaerat ipsa aperiam, maiores atque nobis eos enim saepe! Distinctio molestiae illum minima voluptatum, accusamus nulla tempore cum aperiam dicta.")))))))))))}}]),t}();var V=Object(l.connect)(function(e){return{auth:e.auth}},{fetchUser:E})(J),Z=r(21),K=r.n(Z),Q=r(22),X=r.n(Q);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function re(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return re(n,(r=n=re(this,(e=ne(t)).call.apply(e,[this].concat(o))),n.state={name:null,surname:null,email:null,password:null,photoProfile:void 0,base64:null},n.handleChange=function(e){var t=e.target,r=t.name,a=t.value;n.setState(ee({},r,a))},n.canSubmit=function(){var e=n.state,t=e.name,r=e.surname,a=e.email,o=e.password;return!!(t&&r&&a&&o)},n.handleRegister=function(e){e.preventDefault(),n.props.registerUser(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){ee(e,t,r[t])})}return e}({},n.state,{history:n.props.history}))},r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,o["Component"]),function(e,t,r){t&&te(e.prototype,t),r&&te(e,r)}(t,[{key:"_crop",value:function(){this.setState({photoProfile:this.refs.cropper.getCroppedCanvas({width:300,height:300}).toDataURL()})}},{key:"render",value:function(){var e=this,t=this.props,r=t.auth,n=r.auth,a=r.user.data,o=t.alert;return n?c.a.createElement(s.Redirect,{to:"/profile/".concat(a.id)}):c.a.createElement("div",{class:"page-header header-filter",style:{"background-image":"url('../assets/img/bg7.jpg')","background-size":"cover","background-position":"top center"}},c.a.createElement("div",{class:"container"},c.a.createElement(U.Helmet,null,c.a.createElement("link",{rel:"stylesheet",href:"/assets/css/cropper.min.css",type:"text/css"})),c.a.createElement("div",{class:"row mt-25 pt-5"},c.a.createElement("div",{class:"col-md-6 mt-5 mr-auto"},c.a.createElement("div",{class:"card card-login"},o&&o.message?c.a.createElement("div",{className:"alert ".concat(o.type)},o.message):"",c.a.createElement("form",{class:"form",method:"",action:""},c.a.createElement("div",{class:"card-body"},c.a.createElement("div",null,this.state.photoProfile&&c.a.createElement("div",{className:"d-flex justify-content-between p-4"},c.a.createElement("span",{className:"input-group-text"},"Preview:"),c.a.createElement("img",{className:"rounded-circle",style:{width:"100px",height:"100px"},src:this.state.photoProfile,alt:""}))),c.a.createElement("div",{class:"input-group"},c.a.createElement("div",{class:"input-group-prepend"},c.a.createElement("span",{class:"input-group-text"},c.a.createElement("i",{class:"material-icons"},"face"))),c.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,class:"form-control",placeholder:"First Name..."})),c.a.createElement("div",{class:"input-group"},c.a.createElement("div",{class:"input-group-prepend"},c.a.createElement("span",{class:"input-group-text"},c.a.createElement("i",{class:"material-icons"},"face"))),c.a.createElement("input",{type:"text",name:"surname",onChange:this.handleChange,class:"form-control",placeholder:"Surname"})),c.a.createElement("div",{class:"input-group"},c.a.createElement("div",{class:"input-group-prepend"},c.a.createElement("span",{class:"input-group-text"},c.a.createElement("i",{class:"material-icons"},"mail"))),c.a.createElement("input",{type:"email",name:"email",onChange:this.handleChange,class:"form-control",placeholder:"Email..."})),c.a.createElement("div",{class:"input-group"},c.a.createElement("div",{class:"input-group-prepend"},c.a.createElement("span",{class:"input-group-text"},c.a.createElement("i",{class:"material-icons"},"lock_outline"))),c.a.createElement("input",{name:"password",onChange:this.handleChange,type:"password",class:"form-control",placeholder:"Password..."}))),c.a.createElement("div",{class:"footer text-center"},c.a.createElement("button",{onClick:this.handleRegister,disabled:!this.canSubmit(),class:"btn btn-primary btn-link btn-wd btn-lg"},"Get Started"))))),c.a.createElement("div",{className:"col-md-6 mt-5"},c.a.createElement("div",{class:"card card-login p-4 text-center",style:{minHeight:"420px"}},c.a.createElement(K.a,{multiple:!1,onDone:function(t){return e.setState({base64:t.base64})}}),c.a.createElement("div",{className:"card-body pt-4"},this.state.base64?c.a.createElement(X.a,{ref:"cropper",src:this.state.base64,style:{height:"300px",width:"100%"},aspectRatio:1,guides:!1,dragMode:"move",crop:this._crop.bind(this)}):""))))))}}]),t}();var ce=Object(l.connect)(function(e){return{auth:e.auth,alert:e.alert}},{fetchUser:E,registerUser:function(e){var t=e.name,r=e.surname,n=e.email,a=e.password,o=e.photoProfile,c=e.history;return function(e){return y.registerUser({name:t,surname:r,email:n,password:a,photoProfile:o}).then(function(){e({type:"register_user_success"}),e(v.clear()),c.push("/login")}).catch(function(t){e(v.error(t.response.data.message))})}}})(oe),ie=r(5),se=r.n(ie),le=r(12),ue=r.n(le),pe=r(3),me=r(6),de=r(13),fe=r.n(de),he=r(23),ge=r.n(he);function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be={auth:!1,user:{},error:"",success:""},ve={user:{},error:"",success:""};function Ee(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Oe(e,t,r[t])})}return e}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _e={group:{},error:"",success:""},je={events:[],error:"",success:""},Ne={event:{},error:"",success:""},ke=r(8),Se=Object(me.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.SUCCESS:return{type:"alert-success",message:t.message};case b.ERROR:return{type:"alert-danger",message:t.message};case b.CLEAR:return{};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_me_success":return{auth:!0,user:t.payload,error:"",success:""};case"update_user_success":return{auth:!0,user:t.payload,error:"",success:"Usuario actualizado con Ã©xito"};case"register_user_success":return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){ye(e,t,r[t])})}return e}({},e);case"register_user_error":return{auth:!1,user:{},error:t.payload,success:""};case"logout_user":return{auth:!1,user:{},error:"",success:""};case"update_profile_error":return{auth:!0,user:e.user,error:t.payload,success:""};default:return{auth:e.auth,user:e.user,error:"",success:""}}},form:ke.reducer,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_user_success":return{user:t.payload,error:"",success:""};case"update_user_error":default:return{user:e.user,error:"",success:""}}},group:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_group_success":return{group:t.payload,error:"",success:""};case"fetch_group_error":return{group:e.group,error:"",success:""};case"join_group_success":return{group:{data:we({},e.group.data,{pendings:Ee(t.payload.data.pendings)}),status:t.payload.status},error:"",success:""};case"leave_group_success":return{group:{data:we({},e.group.data,{users:Ee(t.payload.users)})},error:"",success:""};case"add_event_success":return{group:{data:we({},e.group.data,{events:Ee(t.payload.events)})},error:"",success:""};case"accept_member_success":return{group:{data:we({},e.group.data,{users:Ee(t.payload.users),pendings:Ee(t.payload.pendings)})},error:"",success:""};case"reject_member_success":return{group:{data:we({},e.group.data,{pendings:Ee(t.payload.pendings)})},error:"",success:""};case"kick_member_success":case"update_role_success":return{group:{data:we({},e.group.data,{users:Ee(t.payload.users)})},error:"",success:""};case"create_group_success":return we({},e);default:return{group:e.group,error:"",success:""}}},event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_events_success":return{events:t.payload,error:"",success:""};default:return{events:e.events,error:"",success:""}}},singleEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_event_success":case"attend_event_success":return{event:t.payload.data,error:"",success:""};default:return{event:e.event,error:"",success:""}}}}),xe="undefined"!=typeof window?window.INITIAL_STATE:{},Pe=Object(me.createStore)(Se,xe,Object(me.applyMiddleware)(fe.a,ge()()));function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ie(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Te={startDate:se()(),modal:!1,groupname:null,groupdescription:null},De=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return Ie(n,(r=n=Ie(this,(e=Ue(t)).call.apply(e,[this].concat(o))),n.state=Te,n.toggle=function(){n.setState(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){qe(e,t,r[t])})}return e}({},Te,{modal:!n.state.modal})),Pe.dispatch(v.clear())},n.handleFieldChange=function(e){var t=e.target,r=t.name,a=t.value;n.setState(qe({},r,a))},n.handleGroupSubmit=function(e){e.preventDefault();var t=n.state,r=t.groupname,a=t.groupdescription;return n.props.createGroup(r,a,n.props.history)},n.handleChange=function(e){var t=n.props.user.user.data;n.setState({startDate:e},function(){return n.props.listEventsByDate(void 0,se()(e).format("MM-DD-YYYY"),t.id)})},r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,o["Component"]),function(e,t,r){t&&Re(e.prototype,t),r&&Re(e,r)}(t,[{key:"componentDidMount",value:function(){var e=this;this.props.user.user.data;return Promise.resolve().then(function(){return y.isLogged()&&e.props.fetchUser(),e.props.fetchUserById(e.props.match.params.id).then(function(){return e.props.listEventsByDate(void 0,se()().startOf("day"),e.props.match.params.id)})})}},{key:"render",value:function(){var e=this,t=this.props,r=t.user.user.data,n=t.event.events,a=t.auth,o=(a.auth,a.user),i=t.alert;return Object.keys(r||{}).length?c.a.createElement("div",{className:"profile-page",style:{minHeight:"1200px"}},c.a.createElement("div",{className:"page-header header-filter","data-parallax":"true",style:{backgroundImage:"url(../assets/img/parallax.jpg)"}}),c.a.createElement("div",{className:"main main-raised",style:{minHeight:"800px"}},c.a.createElement("div",{className:"profile-content"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 ml-auto mr-auto"},c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"avatar"},c.a.createElement("img",{src:r.photoProfile,alt:"Circle Image",className:"img-raised rounded-circle img-fluid"})),c.a.createElement("div",{className:"name"},c.a.createElement("h3",{className:"title"},r.name," ",r.surname),r&&o.data&&o.data.id===r.id&&c.a.createElement("button",{onClick:this.toggle,className:"btn btn-outline-success"},c.a.createElement("i",{class:"fas fa-plus"})," CREATE A GROUP"),c.a.createElement(pe.Modal,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},c.a.createElement(pe.ModalHeader,{toggle:this.toggle},"Create a group!"),c.a.createElement("form",{onSubmit:this.handleGroupSubmit},c.a.createElement(pe.ModalBody,null,i&&i.message?c.a.createElement("div",{className:"alert ".concat(i.type)},i.message):"",c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"groupname",class:"col-form-label"},"Name:"),c.a.createElement("input",{type:"text",autoComplete:"off",onChange:this.handleFieldChange,name:"groupname",class:"form-control"})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"groupdescription",class:"col-form-label"},"Description:"),c.a.createElement("textarea",{class:"form-control",onChange:this.handleFieldChange,name:"groupdescription"}))),c.a.createElement(pe.ModalFooter,null,c.a.createElement(pe.Button,{color:"primary"},"Submit")," ",c.a.createElement(pe.Button,{color:"secondary",type:"button",onClick:this.toggle},"Cancel")))))))),c.a.createElement("div",{className:"description text-center"},c.a.createElement("p",null,"Contact mail: ",r.email)),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 ml-auto mr-auto"},c.a.createElement("div",{className:"profile-tabs"},c.a.createElement("ul",{className:"nav nav-pills nav-pills-icons justify-content-center",role:"tablist"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link active",href:"#groups",role:"tab","data-toggle":"tab"},c.a.createElement("i",{className:"material-icons"},"group")," Groups")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"#events",role:"tab","data-toggle":"tab"},c.a.createElement("i",{className:"material-icons"},"event")," Events")))))),c.a.createElement("div",{className:"tab-content tab-space"},c.a.createElement("div",{className:"tab-pane active text-center gallery",id:"groups"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 mr-auto ml-auto"},c.a.createElement("ul",{className:"list-group main-raised mt-2 p-4"},r.groups.map(function(t){return c.a.createElement("li",{className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"}," ",c.a.createElement("a",{style:{cursor:"pointer"},className:"text-primary",onClick:function(){return e.props.history.push("/group/".concat(t.group.id))}},t.group.name),"  ","owner"===t.role&&c.a.createElement("i",{className:"material-icons"},"star"))}))))),c.a.createElement("div",{className:"tab-pane gallery",id:"events"},c.a.createElement("div",{className:"row just"},c.a.createElement("div",{class:"col-md-4 form-group"},c.a.createElement("label",{class:"label-control"},"Datetime Picker"),c.a.createElement(ue.a,{className:"form-control",selected:this.state.startDate,onChange:this.handleChange,locale:"es-ES"})),c.a.createElement("div",{className:"col-md-6 mr-auto"},c.a.createElement("ul",{className:"list-group main-raised mt-2 p-4"},n.map(function(t){return c.a.createElement("li",{className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"}," ",c.a.createElement("a",{style:{cursor:"pointer"},className:"text-primary",onClick:function(){return e.props.history.push("/event/".concat(t.id))}},t.name))})))))))))):"NOT FOUND"}}]),t}();var Le={loadData:function(e,t){return e.dispatch(w(t.id)).then(function(){var t=e.getState();t.user.user.data&&e.dispatch(_(void 0,se()().startOf("day"),t.user.user.data.id))})},component:Object(l.connect)(function(e){return{user:e.user,auth:e.auth,event:e.event,alert:e.alert}},{fetchUserById:w,fetchUser:E,listEventsByDate:_,createGroup:function(e,t,r){return function(n){return y.createGroup(e,t).then(function(e){n({type:"create_group_success"}),r.push("/group/".concat(e.data.data._id))}).catch(function(e){n(v.error(e.response.data.message))})}}})(De)},Me=function(e){return e?void 0:"Required Field"},Be=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid mail":void 0},Ge=r(24);function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ze=function(e){var t=e.meta,r=t.touched,n=t.error;return c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text"},c.a.createElement("i",{className:"material-icons"},e.icon))),c.a.createElement("input",He({type:e.type,className:"form-control",placeholder:e.placeholder},e.input))),c.a.createElement("div",{className:"form-text text-danger mt-2 text-right"},r&&n&&c.a.createElement("p",null,n)))};function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ye(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ze=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return Ye(n,(r=n=Ye(this,(e=Je(t)).call.apply(e,[this].concat(o))),n.onSubmit=function(e){var t=e.email,r=e.password,a=n.props.location.search,o=new URLSearchParams(a),c=o.get("ref")?o.get("ref"):"",i=o.get("id")?o.get("id"):"";n.props.authUser(t,r,n.props.history,c,i)},r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,o["Component"]),function(e,t,r){t&&We(e.prototype,t),r&&We(e,r)}(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,r=e.auth,n=(r.auth,r.error);return""!==n&&Ge.toast.error("Error! ".concat(n)),c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"form",onSubmit:t(this.onSubmit)},c.a.createElement(ke.Field,{label:"Email",icon:"mail",name:"email",type:"text",placeholder:"Email...",component:ze,validate:[Me,Be],noValidate:!0}),c.a.createElement(ke.Field,{label:"Password",icon:"lock_outline",name:"password",type:"password",placeholder:"Password...",component:ze,validate:[Me]}),c.a.createElement("div",{className:"text-center"},c.a.createElement("button",{type:"submit",className:"btn btn-primary btn-round"},"Login")),c.a.createElement("span",{className:"float-right"},c.a.createElement(s.Link,{to:"/register"},"Don't have an account?"))))}}]),t}();var Ke=Object(ke.reduxForm)({form:"loginForm"})(Object(s.withRouter)(Object(l.connect)(function(e){return{auth:e.auth}},{authUser:function(e,t,r,n,a){return function(o){return y.login(e,t).then(function(e){o({type:"update_user_success",payload:Promise.resolve().then(function(){return e})}).then(function(){"group"===n&&""!==a?r.push("/group/".concat(a)):"event"===n&&""!==a?r.push("/event/".concat(a)):r.push("/profile/".concat(e.id))})}).catch(function(e){o(v.error(e.response.data.message))})}}})(Ze)));function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $e(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$e(this,et(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,o["Component"]),function(e,t,r){t&&Xe(e.prototype,t),r&&Xe(e,r)}(t,[{key:"componentDidMount",value:function(){Pe.dispatch(v.clear())}},{key:"render",value:function(){var e=this.props,t=e.auth,r=t.auth,n=t.user.data,a=e.alert;return r&&n?c.a.createElement(s.Redirect,{to:"/profile/".concat(n.id)}):c.a.createElement("div",{class:"page-header header-filter",style:{"background-image":"url('../assets/img/bg7.jpg')","background-size":"cover","background-position":"top center"}},c.a.createElement("div",{class:"container"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-md-6 mr-auto ml-auto",style:{marginTop:"200px"}},a&&a.message?c.a.createElement("div",{className:"alert ".concat(a.type)},a.message):"",c.a.createElement("div",{class:"card card-login"},c.a.createElement("div",{className:"card-body"},c.a.createElement(Ke,null)))))))}}]),t}();var nt=Object(l.connect)(function(e){return{auth:e.auth,alert:e.alert}},{fetchUser:E,alertActions:v})(rt),at=(r(17),r(9)),ot=r.n(at),ct=r(10),it=r.n(ct),st=r(15),lt=r.n(st),ut=r(25),pt=r.n(ut);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ht(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bt={modal:!1,date:se()(),addressSuggest:void 0,description:null,duration:null,name:null,category:null,UserModal:!1},vt=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return ht(n,(r=n=ht(this,(e=gt(t)).call.apply(e,[this].concat(o))),n.state=bt,n.toggle=function(){n.setState(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){dt(e,t,r[t])})}return e}({},bt,{modal:!n.state.modal}),function(){return Pe.dispatch(v.clear())})},n.toggleUser=function(){n.setState({UserModal:!n.state.UserModal})},n.rowRenderer=function(e){var t=e.style,r=e.key,a=e.index;return c.a.createElement("li",{style:t,key:r,className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"}," ",n.props.auth.auth&&n.checkIfPower("owner")&&!n.checkIfPower("owner",n.props.group.group.data.users[a]._id)&&c.a.createElement("div",null,c.a.createElement("i",{style:{cursor:"pointer"},onClick:function(){return n.updateRole(n.props.group.group.data.users[a]._id)},class:"fas fa-arrows-alt-v"}),c.a.createElement("i",{style:{cursor:"pointer"},onClick:function(){return n.kickUser(n.props.group.group.data.users[a]._id)},class:"fas fa-user-minus"}))," ",c.a.createElement("img",{src:n.props.group.group.data.users[a].photoProfile,style:{width:"5rem"},className:"rounded-circle img-thumbnail "})," ",c.a.createElement(s.Link,{to:"/profile/".concat(n.props.group.group.data.users[a]._id)},"  ","".concat(n.props.group.group.data.users[a].name," ").concat(n.props.group.group.data.users[a].surname))," ",c.a.createElement("div",{className:"ml-auto"},"owner"===n.props.group.group.data.users[a].groups.find(function(e){return e.group===n.props.group.group.data.id}).role?"OWNER":"admin"===n.props.group.group.data.users[a].groups.find(function(e){return e.group===n.props.group.group.data.id}).role?"ADMIN":"")," ")},n.EventRowRenderer=function(e){var t=e.style,r=e.key,a=e.index;return c.a.createElement("li",{style:t,key:r,className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"}," ",c.a.createElement("i",{class:"fas fa-user-check"},"  ","  ".concat(n.props.group.group.data.events[a].attendees.length))," ",c.a.createElement(s.Link,{to:"/event/".concat(n.props.group.group.data.events[a]._id)},"  ","".concat(n.props.group.group.data.events[a].name))," ",c.a.createElement("i",{class:"fas fa-clock ml-auto"},se.a.duration(n.props.group.group.data.events[a].duration,"minutes").format("h:mm"))," ")},n.UserRowRenderer=function(e){var t=e.style,r=e.key,a=e.index;return c.a.createElement("li",{style:t,key:r,className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"}," ",c.a.createElement("img",{src:n.props.group.group.data.pendings[a].photoProfile,className:"rounded-circle img-thumbnail",style:{width:"2.5rem",height:"auto"}})," ",c.a.createElement(s.Link,{to:"/profile/".concat(n.props.group.group.data.pendings[a]._id)},n.props.group.group.data.pendings[a].name)," ",c.a.createElement("div",{className:"ml-auto"},c.a.createElement("i",{style:{cursor:"pointer"},onClick:function(){return n.handleAcceptUser(n.props.group.group.data.pendings[a]._id)},class:"material-icons"},"check")," ",c.a.createElement("i",{style:{cursor:"pointer"},onClick:function(){return n.handleRejectUser(n.props.group.group.data.pendings[a]._id)},class:"material-icons"},"clear")),"  ")},n.handleJoin=function(){var e=n.props.auth,t=e.auth,r=e.user,a=n.props.match.params.id;t?n.props.joinGroup(a,r.data.id):n.props.history.push("/login?ref=group&id=".concat(a))},n.handleLeave=function(){var e=n.props.auth,t=e.auth,r=e.user,a=n.props.match.params.id;t&&n.props.leaveGroup(a,r.data.id).then(function(){return n.props.fetchUser()})},n.checkIfPower=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"owner",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.auth.user.data.id,r=n.props,a=r.group.group.data,o=r.auth,c=(o.auth,o.user.data,a.users.find(function(t){return t.groups.find(function(e){return e.group===a.id}).role===e}));if(c)return c._id===t},n.kickUser=function(e){var t=n.props.group.group.data;return n.props.kickUser(e,t.id)},n.deleteGroup=function(){var e=n.props,t=e.group.group.data,r=e.auth,a=(r.auth,r.user.data);return lt()({title:"Are you sure?",text:"Once deleted, you won't be able to recover data from this group!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(e){if(e)return y.deleteGroup(t.id).then(function(){lt()("Poof! Group ".concat(t.name," has been deleted :("),{icon:"success"}).then(function(){return n.props.history.push("/profile/".concat(a.id))})})})},n.redirectProfile=function(){var e=n.props,t=(e.group.group.data,e.auth);t.auth,t.user.data},n.updateRole=function(e){var t=n.props,r=t.group.group.data,a=t.auth;a.auth,a.user.data;return n.props.updateRole(e,r.id).then(function(){return n.listRef.forceUpdateGrid()})},n.handleSuggest=function(e){return n.setState({addressSuggest:e})},n.handleEventDateChange=function(e){return n.setState({date:e})},n.handleChange=function(e){var t=e.target,r=t.name,a=t.value;n.setState(dt({},r,a))},n.handleEventSubmit=function(e){var t;e.preventDefault(),t=n.state.addressSuggest?n.state.addressSuggest.gmaps.formatted_address:void 0;var r=n.state,a=r.category,o=r.duration,c=r.name,i=r.description,s=r.date,l=n.props.group.group.data;return n.props.createEvent(l.id,c,i,s,a,se.a.duration(o).asMinutes(),{name:t}).then(function(){(!n.props.alert||!Object.keys(n.props.alert).length)&&n.toggle()})},n.handleAcceptUser=function(e){var t=n.props,r=t.group.group.data,a=t.auth;a.auth,a.user.data;return n.props.acceptUser(e,r.id).then(function(){return console.log("ACCEPTED")})},n.handleRejectUser=function(e){var t=n.props,r=t.group.group.data,a=t.auth;a.auth,a.user.data;return n.props.rejectUser(e,r.id).then(function(){return console.log("Rejected")})},r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,o["Component"]),function(e,t,r){t&&ft(e.prototype,t),r&&ft(e,r)}(t,[{key:"componentDidMount",value:function(){var e=this;this.props.group.group.data;return Promise.resolve().then(function(){return y.isLogged()&&e.props.fetchUser(),e.props.fetchGroupById(e.props.match.params.id).then(function(){if(e.EventsList)return e.EventsList.forceUpdateGrid()})})}},{key:"render",value:function(){var e=this,t=this.props,r=t.group.group.data,n=t.auth,a=n.auth,o=n.user.data,i=t.alert;return r?c.a.createElement("div",{className:"profile-page",style:{minHeight:"1200px"}},c.a.createElement(U.Helmet,null,c.a.createElement("link",{href:"/assets/css/Autosuggest.css",type:"text/css",rel:"stylesheet"}),c.a.createElement("script",{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCZkOG7gybArplUzsN8NXLh2St13LjpbH4&libraries=places"})),c.a.createElement("div",{className:"page-header header-filter","data-parallax":"true",style:{backgroundImage:"url(../assets/img/parallax.jpg)"}}),c.a.createElement("div",{className:"main main-raised",style:{minHeight:"800px"}},c.a.createElement("div",{className:"profile-content"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 ml-auto mr-auto"},c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"avatar"},c.a.createElement("h3",{className:"title"},r.name),c.a.createElement("div",{className:"mr-auto"},a&&r.pendings.find(function(e){return e._id===o.id})?c.a.createElement("button",{className:"btn btn-primary btn-round",disabled:!0,onClick:this.handleJoin},c.a.createElement("i",{class:"material-icons"},"group_add"),"JOIN GROUP"):a&&this.checkIfPower("owner")?c.a.createElement("button",{className:"btn btn-danger btn-round",onClick:this.deleteGroup},"                   ",c.a.createElement("i",{class:"material-icons"},"exit_to_app"),"DELETE GROUP"):a&&o.groups.find(function(e){return e.group.id===r.id})?c.a.createElement("button",{className:"btn btn-outline-danger btn-round",onClick:this.handleLeave},"                   ",c.a.createElement("i",{class:"material-icons"},"exit_to_app"),"ABANDON GROUP"):c.a.createElement("button",{className:"btn btn-primary btn-round",onClick:this.handleJoin},"                   ",c.a.createElement("i",{class:"material-icons"},"group_add"),"JOIN GROUP")),c.a.createElement("a",null,c.a.createElement("i",{class:"material-icons"},"group"),r.users.length))))),c.a.createElement("div",{className:"description text-center"},c.a.createElement("p",null,r.description)),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 text-center"},c.a.createElement("div",{className:"main main-raised mt-5"},c.a.createElement("ul",{className:"list-group",style:{minHeight:"28rem",padding:"20"}},a&&(this.checkIfPower("admin")||this.checkIfPower("owner"))?c.a.createElement("div",{className:"d-flex flex-row-reverse"},c.a.createElement(pe.Button,{className:"btn btn-outline-success btn-round",onClick:this.toggle},"ADD EVENT!"),c.a.createElement(pe.Modal,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},c.a.createElement(pe.ModalHeader,{toggle:this.toggle},"Add Event!"),i&&i.message?c.a.createElement("div",{className:"alert ".concat(i.type)},i.message):"",c.a.createElement("form",{onSubmit:this.handleEventSubmit},c.a.createElement(pe.ModalBody,null,c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"name",class:"col-form-label"},"Name:"),c.a.createElement("input",{type:"text",autoComplete:"off",onChange:this.handleChange,name:"name",class:"form-control",id:"event-name"})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"description",class:"col-form-label"},"Description:"),c.a.createElement("textarea",{class:"form-control",onChange:this.handleChange,name:"description",id:"event-description"})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"date",class:"col-form-label"},"Date:"),c.a.createElement(ue.a,{name:"date",className:"form-control",selected:this.state.date,onChange:this.handleEventDateChange,locale:"es-ES",showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"LLL",timeCaption:"time"})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"category",class:"col-form-label"},"Category:"),c.a.createElement("select",{class:"custom-select",onChange:this.handleChange,name:"category",id:"event-category"},c.a.createElement("option",{defaultValue:!0},"Select a category"),c.a.createElement("option",{value:"gastronomy"},"Gastronomy"),c.a.createElement("option",{value:"sport"},"Sport"),c.a.createElement("option",{value:"culture"},"Culture"),c.a.createElement("option",{value:"music"},"Music"),c.a.createElement("option",{value:"tecnologic"},"Tecnology"),c.a.createElement("option",{value:"party"},"Party"))),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"duration",class:"col-form-label"},"Duration:"),c.a.createElement("input",{type:"time",name:"duration",onChange:this.handleChange,class:"form-control",id:"event-duration"})),c.a.createElement("div",{class:"form-group"},c.a.createElement("label",{htmlFor:"address",class:"col-form-label"},"Address:"),c.a.createElement("div",null,c.a.createElement(pt.a,{name:"location",ref:function(t){return e._geoSuggest=t},placeholder:"Start typing!",initialValue:"",onSuggestSelect:this.handleSuggest,className:"geosuggest__input",autoComplete:"off"})))),c.a.createElement(pe.ModalFooter,null,c.a.createElement(pe.Button,{color:"primary",type:"submit"},"Submit")," ",c.a.createElement(pe.Button,{color:"secondary",type:"button",onClick:this.toggle},"Cancel"))))):"",c.a.createElement("h5",{className:"title border-bottom border-light"},"EVENTS"),c.a.createElement(it.a,{defaultHeight:250,defaultWidth:480},function(t){t.height;var n=t.width;return c.a.createElement(ot.a,{height:250,rowCount:r.events.length,rowHeight:50,rowRenderer:e.EventRowRenderer,width:n,ref:function(t){return e.EventsList=t}})})))),c.a.createElement("div",{className:"col-md-6 text-center"},c.a.createElement("div",{className:"main main-raised mt-5"},c.a.createElement("ul",{className:"list-group",style:{minHeight:"28rem",padding:"20"}},a&&(this.checkIfPower("admin")||this.checkIfPower("owner"))?c.a.createElement("div",{className:"d-flex flex-row-reverse"},c.a.createElement(pe.Button,{className:"btn btn-outline-warning btn-round",onClick:this.toggleUser},"MANAGE REQUESTS ",c.a.createElement("span",{class:"badge badge-pill badge-danger"},r.pendings.length)),c.a.createElement(pe.Modal,{isOpen:this.state.UserModal,toggle:this.toggleUser,className:this.props.className},c.a.createElement(pe.ModalHeader,{toggle:this.toggleUser},"Requests"),c.a.createElement(pe.ModalBody,{style:{minHeight:"28rem",padding:"20"}},c.a.createElement(it.a,{defaultHeight:250,defaultWidth:480},function(t){var n=t.height,a=t.width;return c.a.createElement(ot.a,{height:n,rowCount:r.pendings.length,rowHeight:50,rowRenderer:e.UserRowRenderer,width:a})})),c.a.createElement(pe.ModalFooter,null,c.a.createElement(pe.Button,{color:"primary",onClick:this.toggleUser},"Done")," "))):"",c.a.createElement("h5",{className:"title border-bottom border-light"},"USERS"),c.a.createElement(it.a,{defaultHeight:250,defaultWidth:480},function(t){t.height;var n=t.width;return c.a.createElement(ot.a,{ref:function(t){return e.listRef=t},height:250,rowCount:r.users.length,rowHeight:100,rowRenderer:e.rowRenderer,width:n})}))))))))):"NOT FOUND"}}]),t}();var Et={loadData:function(e,t){return e.dispatch(O(t.id))},component:Object(l.connect)(function(e){return{group:e.group,auth:e.auth,alert:e.alert}},{fetchGroupById:O,fetchUser:E,joinGroup:function(e,t){return function(r){return y.joinGroup(e,t).then(function(e){r({type:"join_group_success",payload:e})}).catch(function(e){r({type:"fetch_group_error",payload:e})})}},leaveGroup:function(e,t){return function(r){return y.leaveGroup(e,t).then(function(e){r({type:"leave_group_success",payload:e.data})}).catch(function(e){r({type:"fetch_group_error",payload:e})})}},createEvent:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return y.createEvent.apply(y,t).then(function(t){e({type:"add_event_success",payload:t.data})}).then(function(){return e(v.clear())}).catch(function(t){e(v.error(t.message))})}},acceptUser:function(e,t){return function(r){return y.acceptUser(e,t).then(function(e){r({type:"accept_member_success",payload:e.data})}).catch(function(e){r({type:"fetch_group_error",payload:e})})}},rejectUser:function(e,t){return function(r){return y.rejectUser(e,t).then(function(e){r({type:"reject_member_success",payload:e.data})}).catch(function(e){r({type:"fetch_group_error",payload:e})})}},kickUser:function(e,t){return function(r){return y.kickUser(e,t).then(function(e){r({type:"kick_member_success",payload:e.data})}).catch(function(e){r({type:"fetch_group_error",payload:e})})}},updateRole:function(e,t){return function(r){return y.updateRole(e,t).then(function(e){r({type:"update_role_success",payload:e.data})}).catch(function(e){r({type:"fetch_group_error",payload:e})})}}})(vt)},wt=r(11);function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jt(e,t){return!t||"object"!==Ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var St=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return jt(n,(r=n=jt(this,(e=Nt(t)).call.apply(e,[this].concat(o))),n.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},n.onMarkerClick=function(e,t,r){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},n.onMapClicked=function(e){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,o["Component"]),function(e,t,r){t&&_t(e.prototype,t),r&&_t(e,r)}(t,[{key:"render",value:function(){var e=this.props.event;return c.a.createElement(wt.Map,{google:this.props.google,onClick:this.onMapClicked,initialCenter:{lat:e.location.coords[0],lng:e.location.coords[1]},center:{lat:e.location.coords[0],lng:e.location.coords[1]},style:{width:"100%",height:"350px"}},c.a.createElement(wt.Marker,{onClick:this.onMarkerClick,name:e.name,position:{lat:e.location.coords[0],lng:e.location.coords[1]}}),c.a.createElement(wt.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow},c.a.createElement("div",null,c.a.createElement("h1",null,this.state.selectedPlace.name))))}}]),t}(),xt=Object(wt.GoogleApiWrapper)({apiKey:"AIzaSyCZkOG7gybArplUzsN8NXLh2St13LjpbH4"})(St);function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ut=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return qt(n,(r=n=qt(this,(e=Rt(t)).call.apply(e,[this].concat(o))),n.attendeesRowRenderer=function(e){var t=e.style,r=e.key,a=e.index;return c.a.createElement("li",{style:t,key:r,className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"}," ",c.a.createElement("i",{class:"fas fa-user-check"})," ",c.a.createElement(s.Link,{to:"/profile/".concat(n.props.singleEvent.event.attendees[a]._id)},"".concat(n.props.singleEvent.event.attendees[a].name," ").concat(n.props.singleEvent.event.attendees[a].surname))," ")},n.handleAttendEvent=function(){var e=n.props,t=e.singleEvent.event;e.auth.auth?n.props.attendEvent(t.id):n.props.history.push("/login?ref=event&id=".concat(t.id))},r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(t,o["Component"]),function(e,t,r){t&&Ct(e.prototype,t),r&&Ct(e,r)}(t,[{key:"componentDidMount",value:function(){var e=this;this.props.singleEvent.event;return Promise.resolve().then(function(){return y.isLogged()&&e.props.fetchUser(),e.props.fetchEventById(e.props.match.params.id)})}},{key:"render",value:function(){var e=this,t=this.props,r=t.singleEvent.event,n=t.auth,a=(n.auth,n.user.data);return r.attendees?c.a.createElement("div",null,c.a.createElement("div",{className:"page-header header-filter","data-parallax":"true",style:{backgroundImage:"url(../assets/img/parallax.jpg)"}}),c.a.createElement("div",{className:"main main-raised",style:{minHeight:"800px"}},c.a.createElement("div",{className:"profile-content"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-10 ml-auto mr-auto"},c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"avatar text-center"},c.a.createElement("h3",{className:"title"},r.name)))),c.a.createElement("div",{className:"col-lg-2 ml-auto mr-auto mb-auto mt-auto"},a&&r.attendees.find(function(e){return e._id===a.id})?c.a.createElement("button",{onClick:this.handleAttendEvent,disabled:!0,className:"btn disabled rounded btn-outline-success"},c.a.createElement("i",{class:"far fa-hand-point-right"})," You are in!"):c.a.createElement("button",{onClick:this.handleAttendEvent,className:"btn rounded btn-outline-primary"},c.a.createElement("i",{class:"far fa-hand-point-right"})," Join event!"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 text-center"},c.a.createElement("div",{className:"main main-raised mt-5"},c.a.createElement("ul",{className:"list-group",style:{minHeight:"28rem",padding:"20"}},c.a.createElement("h5",{className:"title border-bottom border-light"},"ATTENDEES"),c.a.createElement("a",null,c.a.createElement("i",{class:"material-icons"},"group"),r.attendees.length),c.a.createElement(it.a,{defaultHeight:250,defaultWidth:480},function(t){t.height;var n=t.width;return c.a.createElement(ot.a,{height:250,rowCount:r.attendees.length,rowHeight:50,rowRenderer:e.attendeesRowRenderer,width:n})})))),c.a.createElement("div",{className:"col-md-6 text-center"},c.a.createElement("div",{className:"main main-raised mt-5"},c.a.createElement("ul",{className:"list-group",style:{minHeight:"28rem",padding:"20"}},c.a.createElement("h5",{className:"title border-bottom border-light"},"Information"),c.a.createElement("li",{className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"},c.a.createElement("div",{className:"mr-auto text-primary"},"Name:"),c.a.createElement("div",{className:"ml-auto"},r.name)),c.a.createElement("li",{className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"},c.a.createElement("div",{className:"mr-auto text-primary"},"Description:"),c.a.createElement("div",{className:"ml-auto"},r.description)),c.a.createElement("li",{className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"},c.a.createElement("div",{className:"mr-auto text-primary"},"Date:"),c.a.createElement("div",{className:"ml-auto"},se()(r.date).format("DD-MM-YY HH:mm"))),c.a.createElement("li",{className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"},c.a.createElement("div",{className:"mr-auto text-primary"},"Duration:"),c.a.createElement("div",{className:"ml-auto"},se.a.duration(r.duration,"minutes").format("hh:mm"))),c.a.createElement("li",{className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"},c.a.createElement("div",{className:"mr-auto text-primary"},"Category:"),c.a.createElement("div",{className:"ml-auto"},r.category.charAt(0).toUpperCase()+r.category.slice(1))),c.a.createElement("li",{className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"},c.a.createElement("div",{className:"mr-auto text-primary"},"Organizer:"),c.a.createElement("div",{className:"ml-auto"}," ",c.a.createElement("img",{className:"rounded-circle img-thumbnail",style:{width:"3.5rem"},src:r.organizer.photoProfile})," ",c.a.createElement(s.Link,{to:"/profile/".concat(r.organizer._id)},"".concat(r.organizer.name," ").concat(r.organizer.surname)))),c.a.createElement("li",{className:"list-group-item mb-2 list-group-item-light border-bottom border-dark"},c.a.createElement("div",{className:"mr-auto text-primary",style:{minHeight:"400px"}},"Location:",c.a.createElement("div",{className:"mt-4"},c.a.createElement(xt,{className:"mr-auto",event:r})))))))))))):""}}]),t}();var At={loadData:function(e,t){return e.dispatch(j(t.id))},component:Object(l.connect)(function(e){return{singleEvent:e.singleEvent,auth:e.auth}},{fetchUser:E,fetchEventById:j,attendEvent:function(e){return function(t){return y.attendEvent(e).then(function(e){t({type:"attend_event_success",payload:e.data})}).catch(function(e){t({type:"fetch_group_error",payload:e})})}}})(Ut)};function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Dt(e,t,r[t])})}return e}function Dt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lt={routes:[{component:V,path:"/",exact:!0,id:1},{component:nt,path:"/login",id:5},Tt({},Le,{path:"/profile/:id",id:9678678}),{component:ce,path:"/register",id:9678678},Tt({},Et,{path:"/group/:id",id:98767890}),Tt({},At,{path:"/event/:id",id:197709709})],privateRoutes:[]};function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Gt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zt(e,t){return!t||"object"!==Mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return zt(n,(r=n=zt(this,(e=Ft(t)).call.apply(e,[this].concat(o))),n.state={isChecking:!0,isAuth:!1},r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(t,o["Component"]),function(e,t,r){t&&Ht(e.prototype,t),r&&Ht(e,r)}(t,[{key:"componentDidMount",value:function(){this.setState({isAuth:y.isLogged(),isChecking:!1})}},{key:"render",value:function(){var e=this.state,t=e.isAuth,r=e.isChecking,n=this.props,a=n.component,o=Gt(n,["component"]);return r?null:c.a.createElement(s.Route,Bt({},o,{render:function(e){return t?c.a.createElement(a,e):c.a.createElement(s.Redirect,{to:{pathname:"/login",state:{from:e.location}}})}}))}}]),t}();function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kt(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $t=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return Kt(n,(r=n=Kt(this,(e=Qt(t)).call.apply(e,[this].concat(o))),n.initApp=function(){y.token=function(e){if(void 0===e)return sessionStorage.getItem("token");null===e?sessionStorage.removeItem("token"):sessionStorage.setItem("token",e)},y.userId=function(e){if(void 0===e)return sessionStorage.getItem("userId");null===e?sessionStorage.removeItem("userId"):sessionStorage.setItem("userId",e)}},r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(t,o["Component"]),function(e,t,r){t&&Zt(e.prototype,t),r&&Zt(e,r)}(t,[{key:"render",value:function(){this.initApp();var e=Lt.routes.map(function(e){return c.a.createElement(s.Route,{path:e.path,component:e.component,exact:e.exact,key:Math.random()})}),t=Lt.privateRoutes.map(function(e){return c.a.createElement(Yt,{path:e.path,component:e.component,key:Math.random()})});return c.a.createElement("div",null,c.a.createElement(G,null),c.a.createElement(s.Switch,null,Vt(e).concat(Vt(t))))}}]),t}(),er=Object(s.withRouter)($t),tr=r(26),rr=(r(28),a()()),nr=process.env.PORT;rr.use(a.a.static("public")),rr.get("*",function(e,t){var r=Object(me.createStore)(Se,{},Object(me.compose)(Object(me.applyMiddleware)(fe.a))),n=Object(tr.matchRoutes)(Lt.routes,e.path).map(function(e){var t=e.route,n=e.match;return t.loadData?t.loadData(r,n.params):null});Promise.all(n).then(function(){t.send(function(e,t){var r=Object(i.renderToString)(c.a.createElement(l.Provider,{store:t},c.a.createElement(s.StaticRouter,{location:e.path,context:{}},c.a.createElement("div",null,c.a.createElement(er,null)))));return'\n  <html>\n    <head>\n    <title>Never Be Alone</title>\n    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">\n    <link href="/assets/css/material-kit.css" type="text/css" rel="stylesheet"/>\n    <link href="/assets/css/ReactToastify.min.css" type="text/css" rel="stylesheet">\n    <link href="/assets/css/react-datepicker.min.css" type="text/css" rel="stylesheet">\n    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">\n\n\n    </head>\n    <body>\n      <div id="root">'.concat(r,"</div>\n      <script>\n        window.INITIAL_STATE = ").concat(p()(t.getState()),'\n      <\/script>\n      <script src="/bundle.js"><\/script>\n      <script src="/assets/js/core/jquery.min.js"><\/script>\n      <script src="/assets/js/core/popper.min.js"><\/script>\n      <script src="/assets/js/core/bootstrap-material-design.min.js"><\/script>\n      <script src="/assets/js/material-kit.min.js"><\/script>\n      <script src="/assets/js/plugins/moment.min.js"><\/script>\n      <script src="/assets/js/plugins/bootstrap-datetimepicker.js"><\/script>\n      <script src="/assets/js/plugins/nouislider.min.js"><\/script>\n    </body>\n    \n  </html>\n  ')}(e,r))})}),rr.listen(nr||4e3,function(){console.log("server on port 4000")})}]);